## Краткое описание

Вы проектируете базу данных для облачной SaaS CRM системы для компаний. Каждая компания ведет свою клиентскую и торговую работу в одном сервисе.

- На платформе есть *Компании* ( каждая компания независима и не видит чужих данных). Внутри каждой компании есть *Пользователи* ( сотрудники различных ролей: менеджеры, администраторы и сотрудники). У всех пользователей есть ФИО, email,   дата регистрации, а также принадлежность к своей компании.
- *Компания* может иметь много *Клиентов* (контактных лиц или орагнизаций). Каждый клиент записывается с ФИО, компанией, должностью, номером телефона и email.
- *Пользователь* может создавать и вести несколько *Сделок* с клиентами. Сделка всегда принадлежит только 1ой компании, одному сотруднику-ответственному и одному клиенту. У сделки есть название, описание, сумма, статус. Для каждой сделки фиксируется дата создания и дата закрытия.
- По каждой сделке сотрудники могут ставить *Задачи* (например, звонок, встреча, письмо, презентация ). Одна сделка может иметь много задач; каждая задача относиться только к конкретному сотрудник, каждая задача имеет тип ( звонок, встреча, задача) сроки, результат, статус.
- Все важные действия (создание/изменение/закрытие сделки/выполнение задачи/смена клиента/смена ответственного) фиксируется в *Журнале действий* ( логах ) - по ним можно в любой момент просмотреть историю работы по клиенту или по сделке
- Когда сделка переводиться в статус 'закрыта' компания может сохранить *Отзыв клиента*: рейтинг по 5-балльной шкале и текстовый комментарий, время создания.
- В базе реализована система ролей: у каждого пользователя есть роли (менеджер, администратор, сотрудник)
    - Администратор: **Полный доступ** ко всем данным компании, к настройкам, редактированию и управлению всеми элементами CRM.
        - Добавлять/удалять сотрудников.
        - Назначать роли (менеджер/сотрудник) другим пользователям.
        - Сброс паролей и разблокировка пользователей.
        - Создавать/удалять/редактировать справочники, формы, поля и шаблоны.
        - Просматривать, создавать, редактировать и удалять любые сделки, контакты, задачи.
        - Просматривать историю всех действий и изменений по всей компании.
        - Определять/менять права для всех ролей, групп сотрудников/отделов.
        - Не видит данные других компаний.
    - Менеджер:
        - Просматривать, создавать и редактировать свои сделки, задачи, клиентов.
        - Может видеть сделки/контакты, где он назначен ответственным (или где состоит в качестве участника задачи).
        - Менять статусы сделок, закрывать/открывать сделки, назначать задачи себе и коллегам из отдела (если разрешено).
        - Добавлять новых клиентов, редактировать их данные.
        - Просматривать отчеты по своим продажам/задачам.
        - Видеть свой рейтинг, историю своих задач и сделок.
        - Не может изменить роли сотрудников и доступ других пользователей.
        - Не может удалить других пользователей или менять права.
        - Доступ обычно строго ограничен “своими” данными и задачами, данными своей компании.
        - Видит, редактирует и закрывает только те сделки/задачи, за которые отвечает, или которые заведены на него/его отдел.
    - Сотрудник:
        - Видит свои задачи, сделки, клиентов (только те, где назначен исполнителем или участником).[](https://aspro.cloud/help/articles/3052-3056-3059--kak-zadat-prava-dostupa-sotrudnikam/)​
        - Может добавлять комментарии, отмечать выполнение задач.
        - Может создавать задачи/заметки по уже существующим клиентам/сделкам (если разрешено политикой).
        - Завершение/отметка о выполнении заданий.
        - Видит историю только своих действий.
        - Никакого доступа к управлению пользователями, настройкам, удалению данных.
        - - Не может просматривать сделки/задачи, не относящиеся к ним.
        - Не может создавать новых клиентов/сделок, если не разрешено (по политике компании).
        - Не может изменять права, настройки системы.